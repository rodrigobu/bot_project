(function(e){void 0==e.fn.inputmask&&(e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:e.noop,onKeyDown:e.noop,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-zА-яЁё]",cardinality:1},"*":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(e,t,n,r){var i=e.length;t||("*"==n?i=r.length+1:1<n&&(i+=e.length*(n-1)));return i}},val:e.fn.val,escapeRegex:function(e){return e.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")}},e.fn.inputmask=function(t,n){function r(e){var t=document.createElement("input"),e="on"+e,n=e in t;n||(t.setAttribute(e,"return;"),n="function"==typeof t[e]);return n}function s(t,n){var r=h.aliases[t];return r?(r.alias&&s(r.alias),e.extend(!0,h,r),e.extend(!0,h,n),!0):!1}function o(t){var n=!1,r=0,i=h.greedy,s=h.repeat;"*"==s&&(i=!1);!0==i&&""==h.placeholder&&(h.placeholder=" ");1==t.length&&!1==i&&(h.placeholder="");for(var t=e.map(t.split(""),function(e){var t=[];if(e==h.escapeChar)n=true;else if(e!=h.optionalmarker.start&&e!=h.optionalmarker.end||n){var i=h.definitions[e];if(i&&!n)for(e=0;e<i.cardinality;e++)t.push(f(r+e));else{t.push(e);n=false}r=r+t.length;return t}}),o=t.slice(),u=1;u<s&&i;u++)o=o.concat(t.slice());return{mask:o,repeat:s,greedy:i}}function u(t){var n=!1,r=!1,i=!1;return e.map(t.split(""),function(e){var t=[];if(e==h.escapeChar)r=!0;else if(e==h.optionalmarker.start&&!r)i=n=!0;else if(e==h.optionalmarker.end&&!r)n=!1,i=!0;else{var s=h.definitions[e];if(s&&!r){for(var o=s.prevalidator,u=o?o.length:0,a=1;a<s.cardinality;a++){var f=u>=a?o[a-1]:[],l=f.validator,f=f.cardinality;t.push({fn:l?"string"==typeof l?RegExp(l):new function(){this.test=l}:/./,cardinality:f?f:1,optionality:n,newBlockMarker:!0==n?i:!1,offset:0,casing:s.casing,def:s.definitionSymbol|e});!0==n&&(i=!1)}t.push({fn:s.validator?"string"==typeof s.validator?RegExp(s.validator):new function(){this.test=s.validator}:/./,cardinality:s.cardinality,optionality:n,newBlockMarker:i,offset:0,casing:s.casing,def:s.definitionSymbol|e})}else t.push({fn:null,cardinality:0,optionality:n,newBlockMarker:i,offset:0,casing:null,def:e}),r=!1;i=!1;return t}})}function a(){function t(e){var t=e.length;for(i=0;i<t&&e.charAt(i)!=h.optionalmarker.start;i++);var n=[e.substring(0,i)];i<t&&n.push(e.substring(i+1,t));return n}function n(a,f){var l=0,p=0,d=f.length;for(i=0;i<d&&!(f.charAt(i)==h.optionalmarker.start&&l++,f.charAt(i)==h.optionalmarker.end&&p++,0<l&&l==p);i++);l=[f.substring(0,i)];i<d&&l.push(f.substring(i+1,d));var v=t(l[0]);if(1<v.length){if(d=a+v[0]+(h.optionalmarker.start+v[1]+h.optionalmarker.end)+(1<l.length?l[1]:""),-1==e.inArray(d,s)&&(s.push(d),p=o(d),r.push({mask:d,_buffer:p.mask,buffer:p.mask.slice(),tests:u(d),lastValidPosition:void 0,greedy:p.greedy,repeat:p.repeat})),d=a+v[0]+(1<l.length?l[1]:""),-1==e.inArray(d,s)&&(s.push(d),p=o(d),r.push({mask:d,_buffer:p.mask,buffer:p.mask.slice(),tests:u(d),lastValidPosition:void 0,greedy:p.greedy,repeat:p.repeat})),1<t(v[1]).length&&n(a+v[0],v[1]+l[1]),1<l.length&&1<t(l[1]).length)n(a+v[0]+(h.optionalmarker.start+v[1]+h.optionalmarker.end),l[1]),n(a+v[0],l[1])}else d=a+l,-1==e.inArray(d,s)&&(s.push(d),p=o(d),r.push({mask:d,_buffer:p.mask,buffer:p.mask.slice(),tests:u(d),lastValidPosition:void 0,greedy:p.greedy,repeat:p.repeat}))}var r=[],s=[];e.isArray(h.mask)?e.each(h.mask,function(e,t){n("",t.toString())}):n("",h.mask.toString());return h.greedy?r:r.sort(function(e,t){return e.mask.length-t.mask.length})}function f(e){return h.placeholder.charAt(e%h.placeholder.length)}function l(t,n){function r(){return t[n]}function i(){return r().tests}function s(){return r()._buffer}function o(){return r().buffer}function u(i,o,u){function a(e,t){for(var n=g(e),r=o?1:0,i="",s=t.buffer,a=t.tests[n].cardinality;a>r;a--)i+=T(s,n-(a-1));o&&(i+=o);return null!=t.tests[n].fn?t.tests[n].fn.test(i,s,e,u,h):!1}if(u=!0===u){var f=a(i,r());!0===f&&(f={pos:i});return f}var p=[],f=!1,d=n;e.each(t,function(e,u){if("object"==typeof u){n=e;var c=i;if(d!=n&&!l(c)&&r().lastValidPosition==S(c)){if(o==s()[c]||o==h.skipOptionalPartCharacter)return p.push({activeMasksetIndex:e,result:{refresh:!0,c:s()[c]}}),r().lastValidPosition=c,!1;t[d].lastValidPosition>=c?r().lastValidPosition=-1:c=b(i)}if((void 0==r().lastValidPosition&&c==b(-1)||r().lastValidPosition>=S(c))&&0<=c&&c<y()){f=a(c,r());if(!1!==f&&(!0===f&&(f={pos:c}),c=f.pos||c,void 0==r().lastValidPosition||r().lastValidPosition<c))r().lastValidPosition=c;p.push({activeMasksetIndex:e,result:f})}}});n=d;return p}function a(){var i=n,s={activeMasksetIndex:0,lastValidPosition:-1};e.each(t,function(e,t){"object"==typeof t&&void 0!=this.lastValidPosition&&this.lastValidPosition>s.lastValidPosition&&(s.activeMasksetIndex=e,s.lastValidPosition=this.lastValidPosition)});n=s.activeMasksetIndex;i!=n&&(k(o(),b(s.lastValidPosition),y()),r().writeOutBuffer=!0)}function l(e){e=g(e);e=i()[e];return void 0!=e?e.fn:!1}function g(e){return e%i().length}function y(){return h.getMaskLength(s(),r().greedy,r().repeat,o(),h)}function b(e){var t=y();if(e>=t)return t;for(;++e<t&&!l(e););return e}function S(e){if(0>=e)return 0;for(;0<--e&&!l(e););return e}function x(e,t,n,r){r&&(t=N(e,t));var r=i()[g(t)],s=n;if(void 0!=s)switch(r.casing){case"upper":s=n.toUpperCase();break;case"lower":s=n.toLowerCase()}e[t]=s}function T(e,t,n){n&&(t=N(e,t));return e[t]}function N(e,t){for(var n;void 0==e[t]&&e.length<y();)for(n=0;void 0!==s()[n];)e.push(s()[n++]);return t}function C(e,t,n){e._valueSet(t.join(""));void 0!=n&&P(e,n)}function k(e,t,n){for(var r=y();t<n&&t<r;t++)x(e,t,T(s().slice(),t,!0))}function L(e,t){var n=g(t);x(e,t,T(s(),n))}function A(i,o,u,a){a=void 0!=a?a.slice():M(i._valueGet()).split("");e.each(t,function(e,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=void 0,t.p=0)});!0!==u&&(n=0);o&&i._valueSet("");y();e.each(a,function(t,n){var a=r().lastValidPosition,f=r().p,f=void 0==a?t:f,a=void 0==a?-1:a;(u&&l(t)||(n!=T(s().slice(),t,!0)||l(t))&&-1==e.inArray(n,s().slice(a+1,f)))&&e(i).trigger("keypress",[!0,n.charCodeAt(0),o,u,t])});!0===u&&(r().lastValidPosition=S(r().p))}function O(t){return e.inputmask.escapeRegex.call(this,t)}function M(e){return e.replace(RegExp("("+O(s().join(""))+")*$"),"")}function _(e){var t=o(),n=t.slice(),r,s;for(s=n.length-1;0<=s;s--)if(r=g(s),i()[r].optionality)if(!l(s)||!u(s,t[s],!0))n.pop();else break;else break;C(e,n)}function D(t,n){return i()&&(!0===n||!t.hasClass("hasDatepicker"))?e.map(o(),function(e,t){return l(t)&&u(t,e,!0)?e:null}).join(""):t[0]._valueGet()}function P(t,n,r){function i(e){j&&"number"==typeof e&&(e=o().length-e);return e}var s=t.jquery&&0<t.length?t[0]:t;if("number"==typeof n)n=i(n),r=i(r),e(t).is(":visible")&&(r="number"==typeof r?r:n,!1==h.insertMode&&n==r&&r++,s.setSelectionRange?(s.selectionStart=n,s.selectionEnd=d?n:r):s.createTextRange&&(t=s.createTextRange(),t.collapse(!0),t.moveEnd("character",r),t.moveStart("character",n),t.select()));else{if(!e(t).is(":visible"))return{begin:0,end:0};s.setSelectionRange?(n=s.selectionStart,r=s.selectionEnd):document.selection&&document.selection.createRange&&(t=document.selection.createRange(),n=0-t.duplicate().moveStart("character",-1e5),r=n+t.text.length);n=i(n);r=i(r);return{begin:n,end:r}}}function H(r){var i=!1,o=0,u=n;e.each(t,function(e,t){if("object"==typeof t){n=e;var u=S(y());if(void 0!=t.lastValidPosition&&t.lastValidPosition>=o&&t.lastValidPosition==u){for(var a=!0,c=0;c<=u;c++){var h=l(c),p=g(c);if(h&&(void 0==r[c]||r[c]==f(c))||!h&&r[c]!=s()[p]){a=!1;break}}if(i=i||a)return!1}o=t.lastValidPosition}});n=u;return i}function B(e,t){return j?1<e-t||1==e-t&&h.insertMode:1<t-e||1==t-e&&h.insertMode}var j=!1;this.unmaskedvalue=function(e,t){j=e.data("_inputmask").isRTL;return D(e,t)};this.isComplete=function(e){return H(e)};this.mask=function(d){function N(t){t=e._data(t).events;e.each(t,function(t,n){e.each(n,function(e,t){if("inputmask"==t.namespace){var n=t.handler;t.handler=function(e){if(this.readOnly||this.disabled)e.preventDefault;else return n.apply(this,arguments)}}})})}function O(t){var n;Object.getOwnPropertyDescriptor&&(n=Object.getOwnPropertyDescriptor(t,"value"));if(n&&n.get){if(!t._valueGet){var r=n.get,i=n.set;t._valueGet=function(){return j?r.call(this).split("").reverse().join(""):r.call(this)};t._valueSet=function(e){i.call(this,j?e.split("").reverse().join(""):e)};Object.defineProperty(t,"value",{get:function(){var t=e(this),n=e(this).data("_inputmask"),r=n.masksets,i=n.activeMasksetIndex;return n&&n.opts.autoUnmask?t.inputmask("unmaskedvalue"):this._valueGet()!=r[i]._buffer.join("")?this._valueGet():""},set:function(t){this._valueSet(t);e(this).triggerHandler("setvalue.inputmask")}})}}else if(document.__lookupGetter__&&t.__lookupGetter__("value"))t._valueGet||(r=t.__lookupGetter__("value"),i=t.__lookupSetter__("value"),t._valueGet=function(){return j?r.call(this).split("").reverse().join(""):r.call(this)},t._valueSet=function(e){i.call(this,j?e.split("").reverse().join(""):e)},t.__defineGetter__("value",function(){var t=e(this),n=e(this).data("_inputmask"),r=n.masksets,i=n.activeMasksetIndex;return n&&n.opts.autoUnmask?t.inputmask("unmaskedvalue"):this._valueGet()!=r[i]._buffer.join("")?this._valueGet():""}),t.__defineSetter__("value",function(t){this._valueSet(t);e(this).triggerHandler("setvalue.inputmask")}));else if(t._valueGet||(t._valueGet=function(){return j?this.value.split("").reverse().join(""):this.value},t._valueSet=function(e){this.value=j?e.split("").reverse().join(""):e}),!0!=e.fn.val.inputmaskpatch)e.fn.val=function(){if(arguments.length==0){var t=e(this);if(t.data("_inputmask")){if(t.data("_inputmask").opts.autoUnmask)return t.inputmask("unmaskedvalue");var t=e.inputmask.val.apply(t),n=e(this).data("_inputmask");return t!=n.masksets[n.activeMasksetIndex]._buffer.join("")?t:""}return e.inputmask.val.apply(t)}var r=arguments;return this.each(function(){var t=e(this),n=e.inputmask.val.apply(t,r);t.data("_inputmask")&&t.triggerHandler("setvalue.inputmask");return n})},e.extend(e.fn.val,{inputmaskpatch:!0})}function D(e,t,n){for(var a=o();!l(e)&&0<=e-1;)e--;for(var c=e;c<t&&c<y();c++)if(l(c)){L(a,c);var h=b(c),p=T(a,h);if(p!=f(h))if(h<y()&&!1!==u(c,p,!0)&&i()[g(c)].def==i()[g(h)].def)x(a,c,T(a,h),!0),h<t&&L(a,h);else if(l(c))break}else L(a,c);void 0!=n&&x(a,S(t),n);if(!1==r().greedy){t=M(a.join("")).split("");a.length=t.length;c=0;for(n=a.length;c<n;c++)a[c]=t[c];0==a.length&&(r().buffer=s().slice())}return e}function F(e,t,n,a){for(var c=o();e<=t&&e<y();e++)if(l(e)){var h=T(c,e,!0);x(c,e,n,!0);if(h!=f(e))if(n=b(e),n<y())if(!1!==u(n,h,!0)&&i()[g(e)].def==i()[g(n)].def)n=h;else if(l(n))break;else n=h;else break;else if(n=h,!0!==a)break}else L(c,e);a=c.length;if(!1==r().greedy){n=M(c.join("")).split("");c.length=n.length;e=0;for(h=c.length;e<h;e++)c[e]=n[e];0==c.length&&(r().buffer=s().slice())}return t-(a-c.length)}function W(i){Y=!1;var u=this,d=i.keyCode,v=P(u);if(d==h.keyCode.BACKSPACE||d==h.keyCode.DELETE||p&&127==d||i.ctrlKey&&88==d){i.preventDefault();if(h.numericInput||j)switch(d){case h.keyCode.BACKSPACE:d=h.keyCode.DELETE;break;case h.keyCode.DELETE:d=h.keyCode.BACKSPACE}if(B(v.begin,v.end)){if(j){var g=v.end;v.end=v.begin;v.begin=g}k(o(),v.begin,v.end);if(0==v.begin&&v.end==y())e.each(t,function(e,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=void 0,t.p=0)});else{g=y();if(!1==h.greedy)D(v.begin,g);else for(var E=v.begin;E<v.end;E++)l(E)&&D(v.begin,g);A(u,!1,!0,o())}}else e.each(t,function(e,t){if("object"==typeof t){n=e;var i=m?v.end:v.begin,u=o(),a=b(-1),l=y();if(d==h.keyCode.DELETE)i<a&&(i=a),i<l&&(h.isNumeric&&""!=h.radixPoint&&u[i]==h.radixPoint&&(i=u.length-1==i?i:b(i)),i=D(i,l),void 0!=r().lastValidPosition&&(-1!=r().lastValidPosition&&o()[r().lastValidPosition]==s()[r().lastValidPosition]&&(r().lastValidPosition=0==r().lastValidPosition?-1:S(r().lastValidPosition)),r().lastValidPosition<a?(r().lastValidPosition=void 0,r().p=a):(r().writeOutBuffer=!0,r().p=i)));else if(d==h.keyCode.BACKSPACE)if(i>a){if(i-=1,h.isNumeric&&""!=h.radixPoint&&u[i]==h.radixPoint?(i=F(0,u.length-1==i?i:i-1,f(i),!0),i++):i=D(i,l),void 0!=r().lastValidPosition)-1!=r().lastValidPosition&&o()[r().lastValidPosition]==s()[r().lastValidPosition]&&(r().lastValidPosition=0==r().lastValidPosition?-1:S(r().lastValidPosition)),r().lastValidPosition<a?(r().lastValidPosition=void 0,r().p=a):(r().writeOutBuffer=!0,r().p=i)}else 0<n&&(r().lastValidPosition=void 0,r().writeOutBuffer=!0,r().p=a,n=0,r().buffer=s().slice(),r().p=b(-1),r().lastValidPosition=void 0)}});a();C(u,o(),r().p);u._valueGet()==s().join("")&&e(u).trigger("cleared");h.showTooltip&&K.prop("title",r().mask)}else d==h.keyCode.END||d==h.keyCode.PAGE_DOWN?setTimeout(function(){var e=b(r().lastValidPosition);!h.insertMode&&e==y()&&!i.shiftKey&&e--;P(u,i.shiftKey?v.begin:e,e)},0):d==h.keyCode.HOME&&!i.shiftKey||d==h.keyCode.PAGE_UP?P(u,0,i.shiftKey?v.begin:0):d==h.keyCode.ESCAPE?(u._valueSet(r().undoBuffer),A(u,!0,!0)):d==h.keyCode.INSERT&&!i.shiftKey&&!i.ctrlKey?(h.insertMode=!h.insertMode,P(u,!h.insertMode&&v.begin==y()?v.begin-1:v.begin)):!1==h.insertMode&&!i.shiftKey&&(d==h.keyCode.RIGHT?setTimeout(function(){var e=P(u);P(u,e.begin)},0):d==h.keyCode.LEFT&&setTimeout(function(){var e=P(u);P(u,e.begin-1)},0));g=P(u);h.onKeyDown.call(this,i,o(),h);P(u,g.begin,g.end);Z=-1!=e.inArray(d,h.ignorables)}function X(i,s,p,d,v,m){if(void 0==p&&Y)return!1;Y=!0;var g=e(this),i=i||window.event,p=p||i.which||i.charCode||i.keyCode,E=String.fromCharCode(p);if((!i.ctrlKey||!i.altKey)&&(i.ctrlKey||i.metaKey||Z)&&!0!==s)return!0;if(p){var N,L;s?(p=v?m:r().p,N={begin:p,end:p}):N=P(this);var p=B(N.begin,N.end),O=!1;p&&(j&&(m=N.end,N.end=N.begin,N.begin=m),m=n,e.each(t,function(e,t){if(typeof t=="object"){n=e;r().undoBuffer=o().join("");var i=N.end<y()?N.end:y();r().lastValidPosition>N.begin&&r().lastValidPosition<i?r().lastValidPosition=S(N.begin):O=true;k(o(),N.begin,i);var s=y();if(h.greedy==false)D(N.begin,s);else for(var u=N.begin;u<i;u++)l(u)&&D(N.begin,s)}}),!0===O&&(n=m,A(this,!1,!0,o()),h.insertMode||e.each(t,function(e,t){if(typeof t=="object"){n=e;F(N.begin,y(),f(N.begin),true);r().lastValidPosition=b(r().lastValidPosition)}})),n=m);h.isNumeric&&E==h.radixPoint&&!0!==s&&(m=o().join("").indexOf(h.radixPoint),-1!=m&&(N.begin=N.begin==m?b(m):m,N.end=N.begin,P(this,N.begin)));var M=h.numericInput&&!0!=v&&!p?S(N.begin):b(N.begin-1),m=u(M,E,v);!0===v&&(m=[{activeMasksetIndex:n,result:m}]);e.each(m,function(e,t){n=t.activeMasksetIndex;r().writeOutBuffer=true;var i=t.result;if(i!==false){var s=false,u=o();if(i!==true){s=i.refresh;M=i.pos!=void 0?i.pos:M;E=i.c!=void 0?i.c:E}if(s!==true)if(h.insertMode==true){i=y();for(s=u.slice();T(s,i,true)!=f(i)&&i>=M;)i=i==0?-1:S(i);if(i>=M){F(M,u.length,E);u=r().lastValidPosition;i=b(u);i!=y()&&u>=M&&T(o(),i)!=f(i)&&(r().lastValidPosition=i)}else r().writeOutBuffer=false}else x(u,M,E,true);r().p=b(M)}});!0!==v&&a();if(!1!==d&&(e.each(m,function(e,t){if(t.activeMasksetIndex==n){L=t;return false}}),void 0!=L)){var _=this;setTimeout(function(){h.onKeyValidation.call(_,L.result,h)},0);if(r().writeOutBuffer&&!1!==L.result){var U=o();C(this,U,s?void 0:h.numericInput?S(r().p):r().p);!0!==s&&setTimeout(function(){H(U)&&g.trigger("complete")},0)}else p&&(r().buffer=r().undoBuffer.split(""))}h.showTooltip&&g.prop("title",r().mask);i.preventDefault()}}function V(t){var n=e(this),i=t.keyCode,u=o(),a=P(this);h.onKeyUp.call(this,t,u,h);P(this,a.begin,a.end);i==h.keyCode.TAB&&n.hasClass("focus.inputmask")&&0==this._valueGet().length&&h.showMaskOnFocus&&(u=s().slice(),C(this,u),P(this,0),r().undoBuffer=this._valueGet())}var K=e(d);if(K.is(":input")){K.data("_inputmask",{masksets:t,activeMasksetIndex:n,opts:h,isRTL:!1});h.showTooltip&&K.prop("title",r().mask);r().greedy=r().greedy?r().greedy:0==r().repeat;if(null!=K.attr("maxLength")){var Q=K.prop("maxLength");-1<Q&&e.each(t,function(e,t){"object"==typeof t&&"*"==t.repeat&&(t.repeat=Q)});y()>Q&&-1<Q&&(Q<s().length&&(s().length=Q),!1==r().greedy&&(r().repeat=Math.round(Q/s().length)),K.prop("maxLength",2*y()))}O(d);r().undoBuffer=d._valueGet();var Y=!1,Z=!1;("rtl"==d.dir||h.numericInput&&h.rightAlignNumerics||h.isNumeric&&h.rightAlignNumerics)&&K.css("text-align","right");if("rtl"==d.dir||h.numericInput){d.dir="ltr";K.removeAttr("dir");var et=K.data("_inputmask");et.isRTL=!0;K.data("_inputmask",et);j=!0}K.unbind(".inputmask");K.removeClass("focus.inputmask");K.closest("form").bind("submit",function(){K[0]._valueGet&&K[0]._valueGet()!=r().undoBuffer&&K.change()}).bind("reset",function(){e.each(t,function(e,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=void 0,t.p=-1)})});K.bind("mouseenter.inputmask",function(){!e(this).hasClass("focus.inputmask")&&h.showMaskOnHover&&this._valueGet()!=o().join("")&&C(this,o())}).bind("blur.inputmask",function(){var i=e(this),u=this._valueGet(),a=o();i.removeClass("focus.inputmask");u!=r().undoBuffer&&i.change();h.clearMaskOnLostFocus&&""!=u&&(u==s().join("")?this._valueSet(""):_(this));H(a)||(i.trigger("incomplete"),h.clearIncomplete&&(e.each(t,function(e,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=void 0,t.p=0)}),n=0,h.clearMaskOnLostFocus?this._valueSet(""):(a=s().slice(),C(this,a))))}).bind("focus.inputmask",function(){var t=e(this),n=this._valueGet();h.showMaskOnFocus&&!t.hasClass("focus.inputmask")&&(!h.showMaskOnHover||h.showMaskOnHover&&""==n)&&this._valueGet()!=o().join("")&&C(this,o(),r().p);t.addClass("focus.inputmask");r().undoBuffer=this._valueGet();t.click()}).bind("mouseleave.inputmask",function(){var t=e(this);h.clearMaskOnLostFocus&&(t.hasClass("focus.inputmask")||(this._valueGet()==s().join("")||""==this._valueGet()?this._valueSet(""):_(this)))}).bind("click.inputmask",function(){var t=this;setTimeout(function(){var n=P(t),i=o();if(n.begin==n.end){var n=n.begin,s=r().lastValidPosition,s=h.isNumeric?!1===h.skipRadixDance&&""!=h.radixPoint&&-1!=e.inArray(h.radixPoint,i)?e.inArray(h.radixPoint,i):y():b(void 0==s?-1:s);P(t,n<s&&(!1!==u(n,i[n],!0)||!l(n))?n:s)}},0)}).bind("dblclick.inputmask",function(){var e=this;void 0!=r().lastValidPosition&&setTimeout(function(){P(e,0,b(r().lastValidPosition))},0)}).bind("keydown.inputmask",W).bind("keypress.inputmask",X).bind("keyup.inputmask",V).bind(v+".inputmask dragdrop.inputmask drop.inputmask",function(t){var n=this,r=e(n);if("propertychange"==t.type&&n._valueGet().length<=y())return!0;setTimeout(function(){A(n,!0,!1);H(o())&&r.trigger("complete");r.click()},0)}).bind("setvalue.inputmask",function(){r().undoBuffer=this._valueGet();A(this,!0);this._valueGet()==s().join("")&&this._valueSet("")}).bind("complete.inputmask",h.oncomplete).bind("incomplete.inputmask",h.onincomplete).bind("cleared.inputmask",h.oncleared);A(d,!0,!1);var tt;try{tt=document.activeElement}catch(nt){}tt===d?(K.addClass("focus.inputmask"),P(d,r().p)):h.clearMaskOnLostFocus?o().join("")==s().join("")?d._valueSet(""):_(d):C(d,o());N(d)}};return this}var h=e.extend(!0,{},e.inputmask.defaults,n),p=null!==navigator.userAgent.match(/iphone/i),d=null!==navigator.userAgent.match(/android.*safari.*/i),v=r("paste")?"paste":r("input")?"input":"propertychange",m,g,y=0;if(d){var b=navigator.userAgent.match(/safari.*/i);m=537>=parseInt(RegExp(/[0-9]+/).exec(b))}if("string"===typeof t)switch(t){case"mask":return s(h.alias,n),g=a(),this.each(function(){l(e.extend(!0,{},g),0).mask(this)});case"unmaskedvalue":return b=e(this),b.data("_inputmask")?(g=b.data("_inputmask").masksets,y=b.data("_inputmask").activeMasksetIndex,h=b.data("_inputmask").opts,l(g,y).unmaskedvalue(b)):b.val();case"remove":return this.each(function(){var t=e(this);if(t.data("_inputmask")){g=t.data("_inputmask").masksets;y=t.data("_inputmask").activeMasksetIndex;h=t.data("_inputmask").opts;this._valueSet(l(g,y).unmaskedvalue(t,!0));t.removeData("_inputmask");t.unbind(".inputmask");t.removeClass("focus.inputmask");var n;Object.getOwnPropertyDescriptor&&(n=Object.getOwnPropertyDescriptor(this,"value"));n&&n.get?this._valueGet&&Object.defineProperty(this,"value",{get:this._valueGet,set:this._valueSet}):document.__lookupGetter__&&this.__lookupGetter__("value")&&this._valueGet&&(this.__defineGetter__("value",this._valueGet),this.__defineSetter__("value",this._valueSet));try{delete this._valueGet,delete this._valueSet}catch(r){this._valueSet=this._valueGet=void 0}}});case"getemptymask":return this.data("_inputmask")?(g=this.data("_inputmask").masksets,y=this.data("_inputmask").activeMasksetIndex,g[y]._buffer.join("")):"";case"hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:!1;case"isComplete":return g=this.data("_inputmask").masksets,y=this.data("_inputmask").activeMasksetIndex,h=this.data("_inputmask").opts,l(g,y).isComplete(this[0]._valueGet().split(""));default:return s(t,n)||(h.mask=t),g=a(),this.each(function(){l(e.extend(true,{},g),y).mask(this)})}else{if("object"==typeof t)return h=e.extend(!0,{},e.inputmask.defaults,t),s(h.alias,t),g=a(),this.each(function(){l(e.extend(!0,{},g),y).mask(this)});if(void 0==t)return this.each(function(){var t=e(this).attr("data-inputmask");if(t&&""!=t)try{var t=t.replace(RegExp("'","g"),'"'),r=e.parseJSON("{"+t+"}");e.extend(!0,r,n);h=e.extend(!0,{},e.inputmask.defaults,r);s(h.alias,r);h.alias=void 0;e(this).inputmask(h)}catch(i){}})}return this})})(jQuery);(function(e){e.extend(e.inputmask.defaults.definitions,{A:{validator:"[A-Za-z]",cardinality:1,casing:"upper"},"#":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1,casing:"upper"}});e.extend(e.inputmask.defaults.aliases,{url:{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:/[fh]/,urlpre2:/(ft|ht)/,urlpre3:/(ftp|htt)/,urlpre4:/(ftp:|http|ftps)/,urlpre5:/(ftp:\/|ftps:|http:|https)/,urlpre6:/(ftp:\/\/|ftps:\/|http:\/|https:)/,urlpre7:/(ftp:\/\/|ftps:\/\/|http:\/\/|https:\/)/,urlpre8:/(ftp:\/\/|ftps:\/\/|http:\/\/|https:\/\/)/},definitions:{i:{validator:function(){return!0},cardinality:8,prevalidator:function(){for(var e=[],t=0;8>t;t++)e[t]=function(){var e=t;return{validator:function(t,n,r,i,s){if(s.regex["urlpre"+(e+1)]){var o=t;0<e+1-t.length&&(o=n.join("").substring(0,e+1-t.length)+""+o);t=s.regex["urlpre"+(e+1)].test(o);if(!i&&!t){r-=e;for(i=0;i<s.defaultPrefix.length;i++)n[r]=s.defaultPrefix[i],r++;for(i=0;i<o.length-1;i++)n[r]=o[i],r++;return{pos:r}}return t}return!1},cardinality:e}}();return e}()},r:{validator:".",cardinality:50}},insertMode:!1,autoUnmask:!1},ip:{mask:"i.i.i.i",definitions:{i:{validator:"25[0-5]|2[0-4][0-9]|[01][0-9][0-9]",cardinality:3,prevalidator:[{validator:"[0-2]",cardinality:1},{validator:"2[0-5]|[01][0-9]",cardinality:2}]}}}})})(jQuery);(function(e){e.extend(e.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}});e.extend(e.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:/[0-3]/,val1:/0[1-9]|[12][0-9]|3[01]/,val2pre:function(t){t=e.inputmask.escapeRegex.call(this,t);return RegExp("((0[1-9]|[12][0-9]|3[01])"+t+"[01])")},val2:function(t){t=e.inputmask.escapeRegex.call(this,t);return RegExp("((0[1-9]|[12][0-9])"+t+"(0[1-9]|1[012]))|(30"+t+"(0[13-9]|1[012]))|(31"+t+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(e,t,n){var r=parseInt(e.concat(t.toString().slice(e.length))),e=parseInt(e.concat(n.toString().slice(e.length)));return(NaN!=r?t<=r&&r<=n:!1)||(NaN!=e?t<=e&&e<=n:!1)},determinebaseyear:function(e,t,n){var r=(new Date).getFullYear();if(e>r)return e;if(t<r){for(var r=t.toString().slice(0,2),i=t.toString().slice(2,4);t<r+n;)r--;t=r+i;return e>t?e:t}return r},onKeyUp:function(t,n,r){n=e(this);t.ctrlKey&&t.keyCode==r.keyCode.RIGHT&&(t=new Date,n.val(t.getDate().toString()+(t.getMonth()+1).toString()+t.getFullYear().toString()))},definitions:{1:{validator:function(e,t,n,r,i){var s=i.regex.val1.test(e);if(!r&&!s&&(e.charAt(1)==i.separator||-1!="-./".indexOf(e.charAt(1))))if(s=i.regex.val1.test("0"+e.charAt(0)))return t[n-1]="0",{pos:n,c:e.charAt(0)};return s},cardinality:2,prevalidator:[{validator:function(e,t,n,r,i){var s=i.regex.val1pre.test(e);return!r&&!s&&(s=i.regex.val1.test("0"+e))?(t[n]="0",n++,{pos:n}):s},cardinality:1}]},2:{validator:function(e,t,n,r,i){var s=t.join("").substr(0,3),o=i.regex.val2(i.separator).test(s+e);if(!r&&!o&&(e.charAt(1)==i.separator||-1!="-./".indexOf(e.charAt(1))))if(o=i.regex.val2(i.separator).test(s+"0"+e.charAt(0)))return t[n-1]="0",{pos:n,c:e.charAt(0)};return o},cardinality:2,prevalidator:[{validator:function(e,t,n,r,i){var s=t.join("").substr(0,3),o=i.regex.val2pre(i.separator).test(s+e);return!r&&!o&&(o=i.regex.val2(i.separator).test(s+"0"+e))?(t[n]="0",n++,{pos:n}):o},cardinality:1}]},y:{validator:function(e,t,n,r,i){if(i.isInYearRange(e,i.yearrange.minyear,i.yearrange.maxyear)){if(t.join("").substr(0,6)!=i.leapday)return!0;e=parseInt(e,10);return 0===e%4?0===e%100?0===e%400?!0:!1:!0:!1}return!1},cardinality:4,prevalidator:[{validator:function(e,t,n,r,i){var s=i.isInYearRange(e,i.yearrange.minyear,i.yearrange.maxyear);if(!r&&!s){r=i.determinebaseyear(i.yearrange.minyear,i.yearrange.maxyear,e+"0").toString().slice(0,1);if(s=i.isInYearRange(r+e,i.yearrange.minyear,i.yearrange.maxyear))return t[n++]=r[0],{pos:n};r=i.determinebaseyear(i.yearrange.minyear,i.yearrange.maxyear,e+"0").toString().slice(0,2);if(s=i.isInYearRange(r+e,i.yearrange.minyear,i.yearrange.maxyear))return t[n++]=r[0],t[n++]=r[1],{pos:n}}return s},cardinality:1},{validator:function(e,t,n,r,i){var s=i.isInYearRange(e,i.yearrange.minyear,i.yearrange.maxyear);if(!r&&!s){r=i.determinebaseyear(i.yearrange.minyear,i.yearrange.maxyear,e).toString().slice(0,2);if(s=i.isInYearRange(e[0]+r[1]+e[1],i.yearrange.minyear,i.yearrange.maxyear))return t[n++]=r[1],{pos:n};r=i.determinebaseyear(i.yearrange.minyear,i.yearrange.maxyear,e).toString().slice(0,2);i.isInYearRange(r+e,i.yearrange.minyear,i.yearrange.maxyear)?t.join("").substr(0,6)!=i.leapday?s=!0:(i=parseInt(e,10),s=0===i%4?0===i%100?0===i%400?!0:!1:!0:!1):s=!1;if(s)return t[n-1]=r[0],t[n++]=r[1],t[n++]=e[0],{pos:n}}return s},cardinality:2},{validator:function(e,t,n,r,i){return i.isInYearRange(e,i.yearrange.minyear,i.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(t){t=e.inputmask.escapeRegex.call(this,t);return RegExp("((0[13-9]|1[012])"+t+"[0-3])|(02"+t+"[0-2])")},val2:function(t){t=e.inputmask.escapeRegex.call(this,t);return RegExp("((0[1-9]|1[012])"+t+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+t+"30)|((0[13578]|1[02])"+t+"31)")},val1pre:/[01]/,val1:/0[1-9]|1[012]/},leapday:"02/29/",onKeyUp:function(t,n,r){n=e(this);t.ctrlKey&&t.keyCode==r.keyCode.RIGHT&&(t=new Date,n.val((t.getMonth()+1).toString()+t.getDate().toString()+t.getFullYear().toString()))}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyUp:function(t,n,r){n=e(this);t.ctrlKey&&t.keyCode==r.keyCode.RIGHT&&(t=new Date,n.val(t.getFullYear().toString()+(t.getMonth()+1).toString()+t.getDate().toString()))},definitions:{2:{validator:function(e,t,n,r,i){var s=t.join("").substr(5,3),o=i.regex.val2(i.separator).test(s+e);if(!r&&!o&&(e.charAt(1)==i.separator||-1!="-./".indexOf(e.charAt(1))))if(o=i.regex.val2(i.separator).test(s+"0"+e.charAt(0)))return t[n-1]="0",{pos:n,c:e.charAt(0)};if(o){if(t.join("").substr(4,4)+e!=i.leapday)return!0;e=parseInt(t.join("").substr(0,4),10);return 0===e%4?0===e%100?0===e%400?!0:!1:!0:!1}return o},cardinality:2,prevalidator:[{validator:function(e,t,n,r,i){var s=t.join("").substr(5,3),o=i.regex.val2pre(i.separator).test(s+e);return!r&&!o&&(o=i.regex.val2(i.separator).test(s+"0"+e))?(t[n]="0",n++,{pos:n}):o},cardinality:1}]}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:/[012]/,hrs24:/2[0-9]|1[3-9]/,hrs:/[01][0-9]|2[0-3]/,ampm:/^[a|p|A|P][m|M]/},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(e,t,n,r,i){var s=i.regex.hrs.test(e);if(!r&&!s&&(e.charAt(1)==i.timeseparator||-1!="-.:".indexOf(e.charAt(1))))if(s=i.regex.hrs.test("0"+e.charAt(0)))return t[n-1]="0",t[n]=e.charAt(0),n++,{pos:n};return s&&"24"!==i.hourFormat&&i.regex.hrs24.test(e)?(e=parseInt(e,10),t[n+5]=24==e?"a":"p",t[n+6]="m",e-=12,10>e?(t[n]=e.toString(),t[n-1]="0"):(t[n]=e.toString().charAt(1),t[n-1]=e.toString().charAt(0)),{pos:n,c:t[n]}):s},cardinality:2,prevalidator:[{validator:function(e,t,n,r,i){var s=i.regex.hrspre.test(e);return!r&&!s&&(s=i.regex.hrs.test("0"+e))?(t[n]="0",n++,{pos:n}):s},cardinality:1}]},t:{validator:function(e,t,n,r,i){return i.regex.ampm.test(e+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",autoUnmask:!1},"hh:mm":{mask:"h:s",autoUnmask:!1},date:{alias:"dd/mm/yyyy"}})})(jQuery);(function(e){e.extend(e.inputmask.defaults.aliases,{decimal:{mask:"~",placeholder:"",repeat:"*",greedy:!1,numericInput:!1,isNumeric:!0,digits:"*",groupSeparator:"",radixPoint:".",groupSize:3,autoGroup:!1,allowPlus:!0,allowMinus:!0,getMaskLength:function(t,n,r,i,s){var o=t.length;n||("*"==r?o=i.length+1:1<r&&(o+=t.length*(r-1)));t=e.inputmask.escapeRegex.call(this,s.groupSeparator);s=e.inputmask.escapeRegex.call(this,s.radixPoint);i=i.join("");s=i.replace(RegExp(t,"g"),"").replace(RegExp(s),"");return o+(i.length-s.length)},postFormat:function(t,n,r,i){if(""==i.groupSeparator)return n;var s=t.slice();e.inArray(i.radixPoint,t);r||s.splice(n,0,"?");s=s.join("");if(i.autoGroup||r&&-1!=s.indexOf(i.groupSeparator)){for(var o=e.inputmask.escapeRegex.call(this,i.groupSeparator),s=s.replace(RegExp(o,"g"),""),o=s.split(i.radixPoint),s=o[0],u=RegExp("([-+]?[\\d?]+)([\\d?]{"+i.groupSize+"})");u.test(s);)s=s.replace(u,"$1"+i.groupSeparator+"$2"),s=s.replace(i.groupSeparator+i.groupSeparator,i.groupSeparator);1<o.length&&(s+=i.radixPoint+o[1])}t.length=s.length;i=0;for(o=s.length;i<o;i++)t[i]=s.charAt(i);s=e.inArray("?",t);r||t.splice(s,1);return r?n:s},regex:{number:function(t){var n=e.inputmask.escapeRegex.call(this,t.groupSeparator),r=e.inputmask.escapeRegex.call(this,t.radixPoint),i=isNaN(t.digits)?t.digits:"{0,"+t.digits+"}";return RegExp("^"+("["+(t.allowPlus?"+":"")+(t.allowMinus?"-":"")+"]?")+"(\\d+|\\d{1,"+t.groupSize+"}(("+n+"\\d{"+t.groupSize+"})?)+)("+r+"\\d"+i+")?$")}},onKeyDown:function(t,n,r){var i=e(this);if(t.keyCode==r.keyCode.TAB){if(t=e.inArray(r.radixPoint,n),-1!=t){for(var s=i.data("_inputmask").masksets,i=i.data("_inputmask").activeMasksetIndex,o=1;o<=r.digits&&o<r.getMaskLength(s[i]._buffer,s[i].greedy,s[i].repeat,n,r);o++)void 0==n[t+o]&&(n[t+o]="0");this._valueSet(n.join(""))}}else if(t.keyCode==r.keyCode.DELETE||t.keyCode==r.keyCode.BACKSPACE)r.postFormat(n,0,!0,r),this._valueSet(n.join(""))},definitions:{"~":{validator:function(t,n,r,s,o){if(""==t)return!1;if(!s&&1>=r&&"0"===n[0]&&/[\d-]/.test(t)&&1==n.length)return n[0]="",{pos:0};var u=s?n.slice(0,r):n.slice();u.splice(r,0,t);var u=u.join(""),a=e.inputmask.escapeRegex.call(this,o.groupSeparator),u=u.replace(RegExp(a,"g"),""),a=o.regex.number(o).test(u);if(!a&&(u+="0",a=o.regex.number(o).test(u),!a)){a=u.lastIndexOf(o.groupSeparator);for(i=u.length-a;3>=i;i++)u+="0";a=o.regex.number(o).test(u);if(!a&&!s&&t==o.radixPoint&&(a=o.regex.number(o).test("0"+u+"0")))return n[r]="0",r++,{pos:r}}return!1!=a&&!s&&t!=o.radixPoint?{pos:o.postFormat(n,r,!1,o)}:a},cardinality:1,prevalidator:null}},insertMode:!0,autoUnmask:!1},integer:{regex:{number:function(t){var n=e.inputmask.escapeRegex.call(this,t.groupSeparator);return RegExp("^"+(t.allowPlus||t.allowMinus?"["+(t.allowPlus?"+":"")+(t.allowMinus?"-":"")+"]?":"")+"(\\d+|\\d{1,"+t.groupSize+"}(("+n+"\\d{"+t.groupSize+"})?)+)$")}},alias:"decimal"}})})(jQuery);(function(e){e.extend(e.inputmask.defaults.aliases,{Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,definitions:{r:{validator:function(e,t,n,r,i){function s(){this.matches=[];this.isLiteral=this.isQuantifier=this.isGroup=!1}function o(){var e=new s,t,n=[];for(i.regexTokens=[];t=i.tokenizer.exec(i.regex);)switch(t=t[0],t.charAt(0)){case"[":case"\\":0<n.length?n[n.length-1].matches.push(t):e.matches.push(t);break;case"(":!e.isGroup&&0<e.matches.length&&i.regexTokens.push(e);e=new s;e.isGroup=!0;n.push(e);break;case")":t=n.pop();0<n.length?n[n.length-1].matches.push(t):(i.regexTokens.push(t),e=new s);break;case"{":var r=new s;r.isQuantifier=!0;r.matches.push(t);0<n.length?n[n.length-1].matches.push(r):e.matches.push(r);break;default:r=new s,r.isLiteral=!0,r.matches.push(t),0<n.length?n[n.length-1].matches.push(r):e.matches.push(r)}0<e.matches.length&&i.regexTokens.push(e)}function u(e,t){var n=!1;t&&(a+="(",f++);for(var r=0;r<e.matches.length;r++){var s=e.matches[r];if(!0==s.isGroup)n=u(s,!0);else if(!0==s.isQuantifier){for(var s=s.matches[0],o=i.quantifierFilter.exec(s)[0].replace("}",""),o=a+"{1,"+o+"}",c=0;c<f;c++)o+=")";n=RegExp("^("+o+")$");n=n.test(l);a+=s}else if(!0==s.isLiteral){for(var s=s.matches[0],o=a,h="",c=0;c<f;c++)h+=")";for(c=0;c<s.length&&!(o=(o+s[c]).replace(/\|$/,""),n=RegExp("^("+o+h+")$"),n=n.test(l));c++);a+=s}else{a+=s;o=a.replace(/\|$/,"");for(c=0;c<f;c++)o+=")";n=RegExp("^("+o+")$");n=n.test(l)}if(n)break}t&&(a+=")",f--);return n}null==i.regexTokens&&o();var r=t.slice(),a="",t=!1,f=0;r.splice(n,0,e);for(var l=r.join(""),e=0;e<i.regexTokens.length&&!(s=i.regexTokens[e],t=u(s,s.isGroup));e++);return t},cardinality:1}}}})})(jQuery);
